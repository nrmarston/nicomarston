---
import ThemeIcon from "./ThemeIcon.astro";
---

<header>
  <div class="relative z-10 container">
    <div class="flex items-center justify-between">
      <div>
        <a href="/">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 70 24"
            width="150"
            height="auto"
            id="logo"
            class="text-red-500 hover:animate-colorCycle"
          >
            <path
              fill="currentColor"
              fill-rule="evenodd"
              d="M3.464 3.464C2 4.93 2 7.286 2 12c0 4.714 0 7.071 1.464 8.535C4.93 22 7.286 22 12 22c4.714 0 7.071 0 8.535-1.465C22 19.072 22 16.714 22 12s0-7.071-1.465-8.536C19.072 2 16.714 2 12 2S4.929 2 3.464 3.464ZM17 12.667C17 16.933 13.444 18 11.667 18 10.11 18 7 16.933 7 12.667 7 10.81 8.063 9.633 8.956 9.04c.408-.271.916-.098.942.391.058 1.071.883 1.931 1.523 1.07.584-.788.873-1.858.873-2.501 0-.947.958-1.548 1.707-.968C15.459 8.162 17 10.056 17 12.667Z"
              clip-rule="evenodd"></path>
            <path
              class="text-black dark:text-white"
              fill="currentColor"
              d="M28.42 17V7.4h5.676v1.284h-4.308v3.024h3.708v1.2h-3.708V17H28.42Zm8.63-4.332h4.332l-.444.624c0-.808-.144-1.424-.432-1.848-.288-.424-.708-.636-1.26-.636-.6 0-1.068.224-1.404.672-.336.44-.504 1.06-.504 1.86 0 .856.168 1.512.504 1.968.336.456.816.684 1.44.684.408 0 .764-.1 1.068-.3.304-.208.56-.508.768-.9h1.236c-.12.496-.324.924-.612 1.284-.28.36-.632.636-1.056.828a3.312 3.312 0 0 1-1.404.288c-.672 0-1.252-.152-1.74-.456-.48-.304-.848-.744-1.104-1.32-.256-.576-.384-1.268-.384-2.076 0-.768.128-1.428.384-1.98.264-.56.636-.992 1.116-1.296.48-.304 1.044-.456 1.692-.456.616 0 1.14.144 1.572.432.432.288.764.708.996 1.26.232.544.348 1.204.348 1.98 0 .088-.004.18-.012.276 0 .096-.004.188-.012.276H37.05v-1.164ZM44.66 17V9.8h1.32v.54h.36a1.84 1.84 0 0 1 .709-.54c.288-.128.604-.192.948-.192.504 0 .94.112 1.308.336.368.224.656.54.864.948.208.408.312.888.312 1.44V17h-1.32v-4.308c0-.6-.136-1.052-.408-1.356-.264-.312-.656-.468-1.176-.468-.52 0-.916.156-1.188.468-.272.304-.408.756-.408 1.356V17h-1.32Zm8.787-7.2h3.504v5.964h2.172V17h-5.676v-1.236h2.184v-4.728h-2.184V9.8Zm2.748-1.068c-.312 0-.556-.084-.732-.252-.176-.176-.264-.416-.264-.72s.088-.54.264-.708c.176-.176.42-.264.732-.264s.556.088.732.264c.176.168.264.404.264.708 0 .304-.088.544-.264.72-.176.168-.42.252-.732.252ZM61.105 17l2.1-3.42-2.232-3.78h1.536l1.632 2.772.108.348h.12l.108-.348L66.205 9.8h1.44l-2.28 3.66L67.513 17h-1.572l-1.512-2.496-.108-.348h-.12l-.108.348L62.57 17h-1.464Z"
            ></path>
          </svg>
          <span class="sr-only">Astro Logo</span>
        </a>
      </div>
      <nav>
        <ul class="hidden gap-2 font-medium md:flex">
          <li>
            <a
              href="/#about"
              class="rounded-full px-5 py-2.5 text-lg text-(--secondary-foreground) hover:bg-(--secondary)"
              >About</a
            >
          </li>
          <li>
            <a
              href="/#work"
              class="rounded-full px-4 py-2.5 text-lg text-(--secondary-foreground) hover:bg-(--secondary)"
              >Work</a
            >
          </li>
          <li>
            <a
              href="/#contact"
              class="rounded-full px-4 py-2.5 text-lg text-(--secondary-foreground) hover:bg-(--secondary)"
              >Contact</a
            >
          </li>
        </ul>
      </nav>
      <div class="flex items-center justify-end gap-4">
        <a href="/#contact" class="button is-small hidden sm:inline-flex"
          >Let's Talk</a
        >
        <ThemeIcon />
      </div>
      <!-- Dropdown menu that shows on tablet view -->
    </div>
  </div>
  <div class="backdrop"></div>
  <div class="backdrop-edge"></div>
</header>

<style>
  header {
    position: fixed;
    top: 0;
    width: 100%;
    padding-block: 1rem;
    z-index: 2;
    outline: 1px solid var(--border);
  }

  @media (max-width: 48rem) {
    header {
      position: relative;
    }
  }

  .backdrop {
    position: absolute;
    inset: 0;
    height: 200%;
    z-index: 0;
    background: linear-gradient(to bottom, var(--background), transparent 50%);
    backdrop-filter: blur(16px);
    mask-image: linear-gradient(to bottom, black 0% 50%, transparent 50% 100%);
    pointer-events: none;
  }

  .backdrop-edge {
    --thickness: 3px;
    position: absolute;
    inset: 0;
    height: 100%;
    /*
      Shift down by 100% of its own height, so that the
      edge stacks underneath the main <header>:
    */
    transform: translateY(100%);
    background: --alpha(var(--background) / 20%);
    backdrop-filter: blur(8px) brightness(120%);
    pointer-events: none;
    /*
      We mask out everything aside from the first few
      pixels, specified by the --thickness variable:
    */
    mask-image: linear-gradient(
      to bottom,
      black 0,
      black var(--thickness),
      transparent var(--thickness)
    );
  }
</style>
